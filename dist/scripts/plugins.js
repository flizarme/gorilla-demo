"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){t.fn.barfiller=function(i){var n,e,o=t.extend({barColor:"#16b597",tooltip:!0,duration:1e3,animateOnResize:!0,currency:"%",value:100,percentage:100},i),r=t(this),a=t.extend(o,i),s=r.width(),u=r.find(".fill"),l=r.find(".tip"),c=!1,d={init:function(){return this.each(function(){d.getTransitionSupport()&&(c=!0,e=d.getTransitionPrefix()),d.appendHTML(),d.initializeItems()})},appendHTML:function(){u.css("background",a.barColor),a.tooltip||l.css("display","none"),l.text(a.currency+0)},setEventHandlers:function(){a.animateOnResize&&t(window).on("resize",function(t){clearTimeout(n),n=setTimeout(function(){d.refill()},300)})},initializeItems:function(){var t=d.calculateFill(a.percentage);r.find(".tipWrap").css({display:"inline"}),c?d.transitionFill(t):d.animateFill(t)},getTransitionSupport:function(){var t=document.body||document.documentElement,i=t.style;return void 0!==i.transition||void 0!==i.WebkitTransition||void 0!==i.MozTransition||void 0!==i.MsTransition||void 0!==i.OTransition},getTransitionPrefix:function(){return/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase())?"-moz-transition":/webkit/.test(navigator.userAgent.toLowerCase())?"-webkit-transition":/opera/.test(navigator.userAgent.toLowerCase())?"-o-transition":/msie/.test(navigator.userAgent.toLowerCase())?"-ms-transition":"transition"},getTransition:function(t,i,n){var o;return"width"===n?o={width:t}:"left"===n&&(o={left:t}),i/=1e3,o[e]=n+" "+i+"s ease-in-out",o},refill:function(){u.css("width",0),l.css("left",0),s=r.width(),d.initializeItems()},calculateFill:function(t){return t*=.01,s*t},transitionFill:function(i){var n=i-l.width();u.css(d.getTransition(i,a.duration,"width")),l.css(d.getTransition(n,a.duration,"left")),t({percentage:0}).stop(!0).animate({percentage:a.value},{duration:a.duration,step:function(){var t=Math.round(this.percentage);l.text(a.currency+t)}}).promise().done(function(){l.text(a.currency+a.value)})},animateFill:function(t){var i=t-l.width();u.stop().animate({width:"+="+t},a.duration),l.stop().animate({left:"+="+i},a.duration)}};return d[i]?d[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==(void 0===i?"undefined":_typeof(i))&&i?void t.error('Method "'+method+'" does not exist in barfiller plugin!'):d.init.apply(this)}}(jQuery);